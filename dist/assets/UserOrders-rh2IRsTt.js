import{r as a,c as h,j as e,O as x,m,d as p,V as u}from"./vendor-JV4b0bO8.js";import{a as j}from"./index-DwOsTwTZ.js";import{L as y,B as g}from"./Button-C4S57wnW.js";function b(){const[i,l]=a.useState([]),[c,n]=a.useState(!0),o=h();return a.useEffect(()=>{(async()=>{var r;n(!0);try{const t=(r=j.currentUser)==null?void 0:r.email,d=await p.get("/api/get-orders",{params:{email:t}});l(Array.isArray(d.data.orders)?d.data.orders:[])}catch(t){console.error("Error fetching orders:",t),u.error("Could not load your orders.")}finally{n(!1)}})()},[]),e.jsxs(y,{title:"My Orders",children:[e.jsx(x,{}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(g,{onClick:()=>o("/userdashboard"),className:"underline",children:"← Back to Dashboard"})}),c?e.jsx("p",{className:"text-center mt-10",children:"Loading your orders…"}):i.length===0?e.jsx("div",{className:"text-center mt-10 space-y-4",children:e.jsx("p",{children:"You have no orders yet."})}):e.jsx("ul",{className:"space-y-4 max-w-4xl mx-auto",children:i.map(s=>e.jsxs("li",{className:"bg-white shadow rounded p-4 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order No:"})," ",s.orderNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",m(new Date(s.createdAt),"M/d/yyyy, h:mm:ss a")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]}),s.printType!=="stationery"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Print Type:"})," ",s.printType==="color"?"Color":"Black & White"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Print Side:"})," ",s.sideOption==="double"?"Back to Back":"Single Sided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Spiral Binding:"})," ",s.spiralBinding?"Yes":"No"]})]}),s.attachedFiles.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:s.printType==="stationery"?"Items:":"Files:"}),e.jsx("ul",{className:"list-disc list-inside ml-4",children:s.attachedFiles.map(r=>e.jsx("li",{children:r.name},r.name))})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Paid:"})," ₹",Number(s.totalCost).toFixed(2)]})]},s.orderNumber))})]})}export{b as default};
